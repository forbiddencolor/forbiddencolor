{"version":3,"file":"StartScreen.js","sourceRoot":"","sources":["../../scripts/StartScreen.ts"],"names":["StartScreen","StartScreen.constructor","StartScreen.show","StartScreen.hide","StartScreen.updateHighScores"],"mappings":"AAAA,uDAAuD;;;;;;;IAEvD,YAAY,CAAC;IAOb,kDAAkD;IAElD,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC;IAE3C;QAAiCA,+BAAMA;QAGnCA,qBAAYA,MAAaA;YAH7BC,iBAwCCA;YApCOA,kBAAMA,aAAaA,CAACA,CAACA;YAHlBA,eAAUA,GAAyFA,EAAEA,CAACA,eAAeA,EAAEA,CAACA;YAK3HA,IAAIA,CAACA,UAAUA,GAAGA,IAAIA,uBAAUA,CAACA,MAAMA,CAACA,CAACA;YACzCA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;YAErBA,CAACA,CAACA,cAAcA,CAACA,CAACA,EAAEA,CAACA,YAAYA,EAAEA,UAAAA,CAACA;gBAChCA,CAACA,CAACA,cAAcA,EAAEA,CAACA;gBACnBA,CAACA,CAACA,eAAeA,EAAEA,CAACA;gBAEpBA,KAAIA,CAACA,IAAIA,EAAEA,CAACA;gBACZA,KAAIA,CAACA,UAAUA,CAACA,IAAIA,EAAEA,CAACA;gBACvBA,MAAMA,CAACA,IAAIA,CAACA;YAChBA,CAACA,CAACA,CAACA;YAEHA,IAAIA,CAACA,gBAAgBA,EAAEA,CAACA;YACxBA,EAAEA,CAACA,aAAaA,CAACA,IAAIA,EAAEA,CAACA,CAACA,cAAcA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QACjDA,CAACA;QAEMD,0BAAIA,GAAXA;YACIE,CAACA,CAACA,MAAMA,CAACA,CAACA,GAAGA,CAACA,kBAAkBA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,YAAYA,CAACA,KAAKA,CAACA,CAACA;YAClEA,IAAIA,CAACA,gBAAgBA,EAAEA,CAACA;YACxBA,gBAAKA,CAACA,IAAIA,WAAEA,CAACA;QACjBA,CAACA;QAEMF,0BAAIA,GAAXA;YAEIG,gBAAKA,CAACA,IAAIA,WAAEA,CAACA;QACjBA,CAACA;QAEOH,sCAAgBA,GAAxBA;YAAAI,iBAGCA;YAFGA,IAAIA,CAACA,UAAUA,CAACA,SAASA,EAAEA,CAACA;YAC5BA,MAAMA,CAACA,aAAaA,EAAEA,CAACA,OAAOA,CAACA,UAAAA,CAACA,IAAGA,OAAAA,KAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,CAACA,CAACA,EAAvBA,CAAuBA,CAACA,CAACA;QAChEA,CAACA;QAILJ,kBAACA;IAADA,CAACA,AAxCD,EAAiC,eAAM,EAwCtC;IAxCY,mBAAW,cAwCvB,CAAA","sourcesContent":["/// <reference path=\"typings/knockout/knockout.d.ts\" />\r\n\r\n\"use strict\";\r\n\r\nimport {Frame} from \"Frame\";\r\nimport {Screen} from \"Screen\";\r\nimport {GameScreen} from \"GameScreen\";\r\nimport * as Scores from \"HighScores\";\r\nimport * as ko from \"knockout\";\r\n// import * as ScreenManager from \"ScreenManager\";\r\n\r\nvar scores = new Scores.HighScoreStorage();\r\n\r\nexport class StartScreen extends Screen {\r\n    public highScores: KnockoutObservableArray<Scores.HighScore> = <KnockoutObservableArray<Scores.HighScore>>ko.observableArray();\r\n\r\n    constructor(engine: Frame) {\r\n        super(\"startscreen\");\r\n\r\n        this.gameScreen = new GameScreen(engine);\r\n        this.engine = engine;\r\n\r\n        $(\"#startbutton\").on(\"touchstart\", e => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            this.hide();\r\n            this.gameScreen.show();\r\n            return true;\r\n        });\r\n\r\n        this.updateHighScores();\r\n        ko.applyBindings(this, $(\"#startscreen\")[0]);\r\n    }\r\n\r\n    public show(): void {\r\n        $(\"body\").css(\"background-color\", this.engine.CurrentColor.color);\r\n        this.updateHighScores();\r\n        super.show();\r\n    }\r\n\r\n    public hide(): void {\r\n\r\n        super.hide();\r\n    }\r\n\r\n    private updateHighScores(): void {\r\n        this.highScores.removeAll();\r\n        scores.getHighScores().forEach(e=> this.highScores.push(e));\r\n    }\r\n\r\n    engine: Frame;\r\n    gameScreen: GameScreen;\r\n}"]}