{"version":3,"file":"app.js","sourceRoot":"","sources":["../../scripts/app.ts"],"names":["NextFrameEventArgs","NextFrameEventArgs.constructor","TimeBonusEventArgs","TimeBonusEventArgs.constructor","GameEndedEventArgs","GameEndedEventArgs.constructor","CountDownEventArgs","CountDownEventArgs.constructor","GameStartedEventArgs","GameStartedEventArgs.constructor","TimerUpdatedEventArgs","TimerUpdatedEventArgs.constructor","Color","Color.constructor","Frame","Frame.constructor","Frame.NextFrame","Frame.TimeBonus","Frame.GameStarted","Frame.GameEnded","Frame.TimerUpdated","Frame.CountDownUpdated","Frame.start","Frame.endGame","Frame.swipe","Frame.tap","Frame.pickColor","Frame.success","Frame.missClick","Frame.updateInterval","App","App.initialize","App.onDeviceReady","App.onDeviceReady.removeTouchHandler","App.onDeviceReady.endHandler","App.onDeviceReady.moveHandler","App.resetRipples","App.ripple","App.onPause","App.onResume"],"mappings":"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AMA,CAACA;YAE3BA,IAAIA,CAACA,aAAaA,GAAGA,CAACA,CAACA;YACvBA,IAAIA,CAACA,KAAKA,GAAGA,CAACA,CAACA;YACfA,IAAIA,CAACA,QAAQA,GAAGA,EAAEA,CAACA;YAEnBA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,SAASA,EAAEA,CAACA;YACvCA,IAAIA,CAACA,YAAYA,GAAGA,IAAIA,CAACA,cAAcA,CAACA;YAExCA,IAAIA,CAACA,SAASA,GAAGA,CAACA,CAACA;YAEnBA,EAAEA,CAACA,CAACA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,CAACA;gBAC1BA,aAAaA,CAACA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA;YAC3CA,CAACA;YAEDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;gBACjBA,aAAaA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA;YAClCA,CAACA;YAEDA,IAAIA,CAACA,kBAAkBA,GAAGA,WAAWA,CAACA;gBAClCA,KAAIA,CAACA,SAASA,IAAIA,CAACA,CAACA;gBACpBA,EAAEA,CAACA,CAACA,KAAIA,CAACA,SAASA,IAAIA,CAACA,CAACA,CAACA,CAACA;oBACtBA,aAAaA,CAACA,KAAIA,CAACA,kBAAkBA,CAACA,CAACA;oBACvCA,KAAIA,CAACA,YAAYA,GAAGA,KAAIA,CAACA,SAASA,EAAEA,CAACA;oBACrCA,KAAIA,CAACA,SAASA,GAAGA,WAAWA,CAACA,cAAQA,KAAIA,CAACA,cAAcA,EAAEA,CAACA,CAACA,CAACA,EAAEA,GAAGA,CAACA,CAACA;gBACxEA,CAACA;gBAEDA,KAAIA,CAACA,WAAWA,CAACA,OAAOA,CAACA,IAAIA,kBAAkBA,CAACA,KAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;YACrEA,CAACA,EAAEA,IAAIA,CAACA,CAACA;YAETA,IAAIA,CAACA,aAAaA,CAACA,OAAOA,CAACA,IAAIA,oBAAoBA,EAAEA,CAACA,CAACA;YACvDA,IAAIA,CAACA,WAAWA,CAACA,OAAOA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AUA,CAACA,CAACA;YACtEA,CAACA,CAACA,CAACA;YAEHA,CAACA,CAACA,cAAcA,CAACA,CAACA,EAAEA,CAACA,YAAYA,EAAEA,UAAAA,CAACA;gBAChCA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;YAClBA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,SAASA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBAChBA,CAACA,CAACA,4BAA4BA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,CAACA,CAACA,SAASA,CAACA,CAACA;gBAExDA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;gBACxCA,CAACA,CAACA,YAAYA,CAACA,CAACA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA;gBAC9CA,UAAUA,CAACA;oBACPA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,MAAMA,CAACA,CAACA;gBAC3CA,CAACA,EAAEA,kBAAkBA,CAACA,CAACA;YAC3BA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,SAASA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBAChBA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;gBAErCA,EAAEA,CAACA,CAACA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACZA,CAACA,CAACA,mBAAmBA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;oBAElCA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;oBACxCA,CAACA,CAACA,YAAYA,CAACA,CAACA,QAAQA,CAACA,sBAAsBA,CAACA,CAACA;oBACjDA,UAAUA,CAACA;wBACPA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,MAAMA,CAACA,CAACA;oBAC3CA,CAACA,EAAEA,kBAAkBA,CAACA,CAACA;gBAC3BA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,CAACA,CAACA,OAAOA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;oBACnCA,CAACA,CAACA,OAAOA,CAACA,CAACA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA;oBACzCA,UAAUA,CAACA;wBACPA,CAACA,CAACA,OAAOA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,MAAMA,CAACA,CAACA;oBACtCA,CAACA,EAAEA,kBAAkBA,CAACA,CAACA;gBAC3BA,CAACA;gBAEDA,CAACA,CAACA,MAAMA,CAACA,CAACA,GAAGA,CAACA,kBAAkBA,EAAEA,KAAKA,CAACA,YAAYA,CAACA,KAAKA,CAACA,CAACA;YAChEA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,WAAWA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBAClBA,YAAYA,EAAEA,CAACA;gBAEfA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;gBACrCA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,CAACA;gBACxCA,CAACA,CAACA,MAAMA,CAACA,CAACA,GAAGA,CAACA,kBAAkBA,EAAEA,KAAKA,CAACA,YAAYA,CAACA,KAAKA,CAACA,CAACA;gBAC5DA,CAACA,CAACA,cAAcA,CAACA,CAACA,IAAIA,EAAEA,CAACA;gBACzBA,CAACA,CAACA,wBAAwBA,CAACA,CAACA,IAAIA,CAACA,EAAEA,GAAGA,KAAKA,CAACA,YAAYA,CAACA,IAAIA,CAACA,CAACA;YACnEA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,SAASA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBAChBA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;gBACrCA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,CAACA;gBACxCA,+DAA+DA;gBAC/DA,YAAYA,EAAEA,CAACA;gBACfA,CAACA,CAACA,cAAcA,CAACA,CAACA,IAAIA,EAAEA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,YAAYA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBACnBA,EAAEA,CAACA,CAACA,KAAKA,CAACA,QAAQA,GAAGA,CAACA,CAACA,CAACA,CAACA;oBACrBA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACvDA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACvDA,CAACA;YACLA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,gBAAgBA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBACvBA,EAAEA,CAACA,CAACA,CAACA,CAACA,SAASA,GAAGA,CAACA,CAACA,CAACA,CAACA;oBAClBA,gFAAgFA;oBAChFA,CAACA,CAACA,iBAAiBA,CAACA,CAACA,IAAIA,EAAEA,CAACA;gBAChCA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,CAACA,CAACA,iBAAiBA,CAACA,CAACA,IAAIA,EAAEA,CAACA;oBAC5BA,YAAYA,EAAEA,CAACA;gBACnBA,CAACA;gBAEDA,IAAIA,IAAIA,GAAGA,CAACA,CAACA,SAASA,KAAKA,CAACA,GAAGA,IAAIA,GAAGA,CAACA,CAACA,SAASA,CAACA,CAACA,yDAAyDA;gBAE5GA,CAACA,CAACA,mBAAmBA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;gBAClCA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;gBACxCA,CAACA,CAACA,YAAYA,CAACA,CAACA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA;gBAC9CA,UAAUA,CAACA;oBACPA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,MAAMA,CAACA,CAACA;gBAC3CA,CAACA,EAAEA,kBAAkBA,CAACA,CAACA;gBAEvBA,CAACA,CAACA,MAAMA,CAACA,CAACA,GAAGA,CAACA,kBAAkBA,EAAEA,KAAKA,CAACA,YAAYA,CAACA,KAAKA,CAACA,CAACA;YAChEA,CAACA,CAACA,CAACA;YAEHA,YAAYA,EAAEA,CAACA;QACnBA,CAACA;QAEDF;YACIM,CAACA,CAACA,MAAMA,CAACA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA;YAE7BA,CAACA,CAACA,MAAMA,CAACA,CAACA,OAAOA,CAACA;gBACdA,UAAUA,EAAEA,GAAGA;gBACfA,WAAWA,EAAEA,KAAKA;aACrBA,CAACA,CAACA;QACPA,CAACA;QAEDN,gBAAgBA,CAASA,EAAEA,CAASA,EAAEA,MAAcA,EAAEA,QAAgBA,EAAEA,OAAgBA;YACpFO,CAACA,CAACA,MAAMA,CAACA,CAACA,KAAKA,CAACA,UAACA,IAAIA;gBACjBA,CAACA,CAACA,MAAMA,CAACA,CAACA,OAAOA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,CAACA,EAAEA,MAAMA,EAAEA,QAAQA,CAACA,CAACA;gBAClDA,IAAIA,EAAEA,CAACA;YACXA,CAACA,CAACA,CAACA;QACPA,CAACA;QAEDP;YACIQ,0EAA0EA;QAC9EA,CAACA;QAEDR;YACIS,+EAA+EA;QACnFA,CAACA;IAELT,CAACA,EAjLM,GAAG,KAAH,GAAG,QAiLT;IAED,OAAS,GAAG,CAAC","sourcesContent":["/// <reference path=\"typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"typings/jquery.ripples/jquery.ripples.d.ts\" />\r\n\r\nimport {ILiteEvent, LiteEvent} from './LiteEvents';\r\nimport * as $ from \"jquery\";\r\n// import $ = require('jquery');\r\n\r\nclass NextFrameEventArgs {\r\n    public Correct: boolean;\r\n    \r\n    constructor(correct: boolean) {\r\n        this.Correct = correct;\r\n    }\r\n}\r\n\r\nclass TimeBonusEventArgs {\r\n    public ExtraTime: number;\r\n\r\n    constructor(extraTime: number) {\r\n        this.ExtraTime = extraTime;\r\n    }\r\n}\r\n\r\nclass GameEndedEventArgs {\r\n    public Score: number;\r\n\r\n    constructor(score: number) {\r\n        this.Score = score;\r\n    }\r\n}\r\n\r\nclass CountDownEventArgs {\r\n    public CountDown: number;\r\n\r\n    constructor(countDown: number) {\r\n        this.CountDown = countDown;\r\n    }\r\n}\r\n\r\nclass GameStartedEventArgs {\r\n\r\n    constructor() {\r\n    }\r\n}\r\n\r\nclass TimerUpdatedEventArgs {\r\n\r\n    constructor() {\r\n    }\r\n}\r\n\r\nclass Color {\r\n    public name: string;\r\n    public color: string;\r\n}\r\n\r\nclass Frame {\r\n    private _interval: any;\r\n    private onNextFrame = new LiteEvent<NextFrameEventArgs>();\r\n    private onTimeBonus = new LiteEvent<TimeBonusEventArgs>();\r\n    private onGameStarted = new LiteEvent<GameStartedEventArgs>();\r\n    private onGameEnded = new LiteEvent<GameEndedEventArgs>();\r\n    private onTimerUpdated = new LiteEvent<TimerUpdatedEventArgs>();\r\n    private onCountDown = new LiteEvent<CountDownEventArgs>();\r\n    private _countdownInterval: any;\r\n\r\n    public Score: number;\r\n    public CurrentColor: Color;\r\n    public ForbiddenColor: Color;\r\n    public PossibleColors: Color[];\r\n    public IsStarted: boolean;\r\n    public TimeLeft: number;\r\n    public CurrentStreak: number;\r\n    public CountDown: number;\r\n\r\n    public get NextFrame(): ILiteEvent<NextFrameEventArgs> { return this.onNextFrame; }\r\n    public get TimeBonus(): ILiteEvent<TimeBonusEventArgs> { return this.onTimeBonus; }\r\n    public get GameStarted(): ILiteEvent<GameStartedEventArgs> { return this.onGameStarted; }\r\n    public get GameEnded(): ILiteEvent<GameEndedEventArgs> { return this.onGameEnded; }\r\n    public get TimerUpdated(): ILiteEvent<TimerUpdatedEventArgs> { return this.onTimerUpdated; }\r\n    public get CountDownUpdated(): ILiteEvent<CountDownEventArgs> { return this.onCountDown; }\r\n\r\n    constructor() {\r\n        this.PossibleColors = [\r\n            { color: \"#10E5E5\", name: \"Cyan\" }, // \r\n            { color: \"#FF7F00\", name: \"Orange\" }, // orange\r\n            { color: \"#AA2AFF\", name: \"Purple\" }, // purple\r\n            { color: \"#00CC00\", name: \"Green\" }, // green\r\n            { color: \"#FF0000\", name: \"Red\" }, // red\r\n            { color: \"#002AFF\", name: \"Blue\" }, // blue\r\n            { color: \"#FF55FF\", name: \"Pink\" } // pink\r\n        ];\r\n\r\n        this.CurrentColor = this.pickColor();\r\n        this.ForbiddenColor = this.CurrentColor;\r\n        this.CurrentStreak = 0;\r\n        this.CountDown = 0;\r\n        this.Score = 0;\r\n        this.TimeLeft = 0;\r\n    }\r\n\r\n    public start() {\r\n        if (this.IsStarted) return;\r\n\r\n        this.CurrentStreak = 0;\r\n        this.Score = 0;\r\n        this.TimeLeft = 10;\r\n\r\n        this.ForbiddenColor = this.pickColor();\r\n        this.CurrentColor = this.ForbiddenColor;\r\n\r\n        this.CountDown = 2;\r\n\r\n        if (this._countdownInterval) {\r\n            clearInterval(this._countdownInterval);\r\n        }\r\n\r\n        if (this._interval) {\r\n            clearInterval(this._interval);\r\n        }\r\n\r\n        this._countdownInterval = setInterval(() => {\r\n            this.CountDown -= 1;\r\n            if (this.CountDown <= 0) {\r\n                clearInterval(this._countdownInterval);\r\n                this.CurrentColor = this.pickColor();\r\n                this._interval = setInterval(() => { this.updateInterval(); }, 100);\r\n            }\r\n\r\n            this.onCountDown.trigger(new CountDownEventArgs(this.CountDown));\r\n        }, 1000);\r\n\r\n        this.onGameStarted.trigger(new GameStartedEventArgs());\r\n        this.onCountDown.trigger(new CountDownEventArgs(this.CountDown));\r\n    }\r\n\r\n    public endGame() {\r\n        var score = this.Score;\r\n\r\n        this.TimeLeft = 0;\r\n        clearInterval(this._interval);\r\n        this.IsStarted = false;\r\n        this.onGameEnded.trigger(new GameEndedEventArgs(score));\r\n    }\r\n\r\n    public swipe() {\r\n        if (!this.IsStarted) return;\r\n\r\n        if (this.CurrentColor === this.ForbiddenColor) {\r\n            this.success();\r\n        } else {\r\n            this.missClick();\r\n        }\r\n    }\r\n\r\n    public tap() {\r\n        if (!this.IsStarted) return;\r\n\r\n        if (this.CurrentColor === this.ForbiddenColor) {\r\n            this.missClick();\r\n        } else {\r\n            this.success();\r\n        }\r\n    }\r\n\r\n    public pickColor(): Color {\r\n        var num = Math.floor((Math.random() * this.PossibleColors.length));\r\n        var color = this.PossibleColors[num];\r\n        return color;\r\n    }\r\n\r\n    success() {\r\n        this.Score++;\r\n        this.CurrentStreak++;\r\n\r\n        if (this.CurrentStreak % 5 === 0) {\r\n            this.TimeLeft += 1;\r\n            this.onTimeBonus.trigger(new TimeBonusEventArgs(1));\r\n        }\r\n\r\n        this.CurrentColor = this.pickColor();\r\n        this.onNextFrame.trigger(new NextFrameEventArgs(true));\r\n    }\r\n\r\n    missClick() {\r\n        this.Score = 0;\r\n        this.CurrentStreak = 0;\r\n        this.CurrentColor = this.pickColor();\r\n        this.onNextFrame.trigger(new NextFrameEventArgs(false));\r\n    }\r\n\r\n    updateInterval() {\r\n        this.IsStarted = true;\r\n        this.TimeLeft -= 0.1;\r\n\r\n        if (this.TimeLeft <= 0) {\r\n            this.endGame();\r\n            return;\r\n        }\r\n\r\n        this.onTimerUpdated.trigger(new TimerUpdatedEventArgs());\r\n    }\r\n}\r\n\r\nmodule App {\r\n    export function initialize() {\r\n        document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    }\r\n\r\n    function onDeviceReady() {\r\n        // Handle the Cordova pause and resume events\r\n        document.addEventListener(\"pause\", onPause, false);\r\n        document.addEventListener(\"resume\", onResume, false);\r\n\r\n        var popupmesssagedelay = 750;\r\n\r\n        var frame = new Frame();\r\n\r\n        $(\"body\").css(\"background-color\", frame.CurrentColor.color);\r\n        // $(\"#score > span\").text(frame.Score);\r\n        // $(\"#timer > span\").text(frame.TimeLeft);\r\n\r\n        $(\"body\").on(\"touchstart\", (e: any) => {\n            e.preventDefault();\n\n            var touchStart = e.originalEvent.touches[0],\n                startX = touchStart.pageX,\n                startY = touchStart.pageY,\n                lastX = startX,\n                lastY = startY;\n\n            function removeTouchHandler() {\n                $(\"body\").off(\"touchmove\", moveHandler).off(\"touchend\", endHandler);\n            };\n\n            function endHandler(endEvent) {\n                removeTouchHandler();\n\n                if (Math.abs(lastX - startX) > 50 ||\n                    Math.abs(lastY - startY) > 50) {\n                    if (frame.IsStarted) {\n                        frame.swipe();\n                    }\n                } else {\n                    if (frame.IsStarted) {\n                        frame.tap();\n                    }\n\n                    ripple(lastX, lastY, 15, 0.02);\n                    ripple(lastX, lastY, 20, 0.04);\n                }\n            };\n\n            function moveHandler(moveEvent) {\n                var touchMove = moveEvent.originalEvent.touches[0];\n                lastX = touchMove.pageX;\n                lastY = touchMove.pageY;\n\n                if (Math.abs(lastX - startX) > 10 ||\n                    Math.abs(lastY - startY) > 10) {\n\n                    ripple(lastX, lastY, 20, 0.04);\n                }\n            }\n\n            ripple(startX, startY, 20, 0.04);\n            ripple(startX, startY, 25, 0.06);\n\n            $(\"body\").on(\"touchmove\", moveHandler).on(\"touchend\", endHandler);\n        });\r\n\r\n        $(\"#startbutton\").on(\"touchstart\", e => {\r\n            frame.start();\r\n        });\r\n\r\n        frame.TimeBonus.on(x => {\r\n            $(\"#timebonus .message > span\").text(\"+\" + x.ExtraTime);\r\n\r\n            $(\"#timebonus\").css(\"display\", \"block\");\r\n            $(\"#timebonus\").addClass(\"animated bounceIn\");\r\n            setTimeout(() => {\r\n                $(\"#timebonus\").css(\"display\", \"none\");\r\n            }, popupmesssagedelay);\r\n        });\r\n\r\n        frame.NextFrame.on(x => {\r\n            $(\"#score > span\").text(frame.Score);\r\n\r\n            if (x.Correct) {\r\n                $(\"#plusscore > span\").text(\"+1\");\r\n\r\n                $(\"#plusscore\").css(\"display\", \"block\");\r\n                $(\"#plusscore\").addClass(\"animated fadeOutDown\");\r\n                setTimeout(() => {\r\n                    $(\"#plusscore\").css(\"display\", \"none\");\r\n                }, popupmesssagedelay);\r\n            } else {\r\n                $(\"#oops\").css(\"display\", \"block\");\r\n                $(\"#oops\").addClass(\"animated bounceIn\");\r\n                setTimeout(() => {\r\n                    $(\"#oops\").css(\"display\", \"none\");\r\n                }, popupmesssagedelay);\r\n            }\r\n\r\n            $(\"body\").css(\"background-color\", frame.CurrentColor.color);\r\n        });\r\n\r\n        frame.GameStarted.on(e => {\r\n            resetRipples();\r\n\r\n            $(\"#score > span\").text(frame.Score);\r\n            $(\"#timer > span\").text(frame.TimeLeft);\r\n            $(\"body\").css(\"background-color\", frame.CurrentColor.color);\r\n            $(\"#startscreen\").hide();\r\n            $(\"#currentforbiddencolor\").html(\"\" + frame.CurrentColor.name);\r\n        });\r\n\r\n        frame.GameEnded.on(e => {\r\n            $(\"#score > span\").text(frame.Score);\r\n            $(\"#timer > span\").text(frame.TimeLeft);\r\n            // $(\"body\").css(\"background-color\", frame.CurrentColor.color);\r\n            resetRipples();\r\n            $(\"#startscreen\").show();\r\n        });\r\n\r\n        frame.TimerUpdated.on(e => {\r\n            if (frame.TimeLeft < 3) {\r\n                $(\"#timer > span\").text(frame.TimeLeft.toFixed(1));\r\n            } else {\r\n                $(\"#timer > span\").text(frame.TimeLeft.toFixed(0));\r\n            }\r\n        });\r\n\r\n        frame.CountDownUpdated.on(e => {\r\n            if (e.CountDown > 0) {\r\n                // $('#forbiddencolor').html('Forbidden color<br />' + frame.CurrentColor.name);\r\n                $(\"#forbiddencolor\").show();\r\n            } else {\r\n                $(\"#forbiddencolor\").hide();\r\n                resetRipples();\r\n            }\r\n\r\n            var text = e.CountDown === 0 ? \"Go\" : e.CountDown; // (e.CountDown === 4 ? \"Forbidden color\" : e.CountDown);\r\n\r\n            $(\"#countdown > span\").text(text);\r\n            $(\"#countdown\").css(\"display\", \"block\");\r\n            $(\"#countdown\").addClass(\"animated bounceIn\");\r\n            setTimeout(() => {\r\n                $(\"#countdown\").css(\"display\", \"none\");\r\n            }, popupmesssagedelay);\r\n\r\n            $(\"body\").css(\"background-color\", frame.CurrentColor.color);\r\n        });\r\n\r\n        resetRipples();\r\n    }\r\n\r\n    function resetRipples() {\r\n        $('body').ripples('destroy');\r\n\r\n        $('body').ripples({\r\n            resolution: 512,\r\n            interactive: false\r\n        });\r\n    }\r\n\r\n    function ripple(x: number, y: number, radius: number, strength: number, timeout?: number) {\n        $(\"body\").queue((next) => {\n            $(\"body\").ripples(\"drop\", x, y, radius, strength);\n            next();\n        });\n    }\r\n\r\n    function onPause() {\r\n        // TODO: This application has been suspended. Save application state here.\r\n    }\r\n\r\n    function onResume() {\r\n        // TODO: This application has been reactivated. Restore application state here.\r\n    }\r\n\r\n}\r\n\r\nexport = App;"]}