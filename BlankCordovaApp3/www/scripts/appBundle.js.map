{"version":3,"file":"appBundle.js","sourceRoot":"","sources":["../../scripts/index.ts"],"names":["BlankCordovaApp3","BlankCordovaApp3.LiteEvent","BlankCordovaApp3.LiteEvent.constructor","BlankCordovaApp3.LiteEvent.on","BlankCordovaApp3.LiteEvent.off","BlankCordovaApp3.LiteEvent.trigger","BlankCordovaApp3.NextFrameEventArgs","BlankCordovaApp3.NextFrameEventArgs.constructor","BlankCordovaApp3.TimeBonusEventArgs","BlankCordovaApp3.TimeBonusEventArgs.constructor","BlankCordovaApp3.GameEndedEventArgs","BlankCordovaApp3.GameEndedEventArgs.constructor","BlankCordovaApp3.GameStartedEventArgs","BlankCordovaApp3.GameStartedEventArgs.constructor","BlankCordovaApp3.TimerUpdatedEventArgs","BlankCordovaApp3.TimerUpdatedEventArgs.constructor","BlankCordovaApp3.Frame","BlankCordovaApp3.Frame.constructor","BlankCordovaApp3.Frame.NextFrame","BlankCordovaApp3.Frame.TimeBonus","BlankCordovaApp3.Frame.GameStarted","BlankCordovaApp3.Frame.GameEnded","BlankCordovaApp3.Frame.TimerUpdated","BlankCordovaApp3.Frame.start","BlankCordovaApp3.Frame.endGame","BlankCordovaApp3.Frame.swipe","BlankCordovaApp3.Frame.tap","BlankCordovaApp3.Frame.success","BlankCordovaApp3.Frame.missClick","BlankCordovaApp3.Frame.pickColor","BlankCordovaApp3.Frame.updateInterval","BlankCordovaApp3.Application","BlankCordovaApp3.Application.initialize","BlankCordovaApp3.Application.onDeviceReady","BlankCordovaApp3.Application.onPause","BlankCordovaApp3.Application.onResume"],"mappings":"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CAACA,KAAKA,EAAEA,CAACA;gBACdA,CAACA,CAACA,MAAMA,CAACA,CAACA,GAAGA,CAACA,kBAAkBA,EAAEA,KAAKA,CAACA,YAAYA,CAACA,CAACA;gBACtDA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;YACzCA,CAACA,CAACA,CAACA;YAEHA,CAACA,CAACA,cAAcA,CAACA,CAACA,EAAEA,CAACA,OAAOA,EAAEA,UAAAA,CAACA;gBAC3BA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;YAClBA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,SAASA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBAChBA,CAACA,CAACA,4BAA4BA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,CAACA,CAACA,SAASA,CAACA,CAACA;gBAExDA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;gBACxCA,CAACA,CAACA,YAAYA,CAACA,CAACA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA;gBAC9CA,UAAUA,CAACA;oBACPA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,MAAMA,CAACA,CAACA;gBAC3CA,CAACA,EAAEA,kBAAkBA,CAACA,CAACA;YAC3BA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,SAASA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBACfA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;gBAEtCA,EAAEA,CAACA,CAACA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACZA,CAACA,CAACA,mBAAmBA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;oBAElCA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;oBACxCA,CAACA,CAACA,YAAYA,CAACA,CAACA,QAAQA,CAACA,sBAAsBA,CAACA,CAACA;oBACjDA,UAAUA,CAACA;wBACPA,CAACA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,MAAMA,CAACA,CAACA;oBAC3CA,CAACA,EAAEA,kBAAkBA,CAACA,CAACA;gBAC3BA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,CAACA,CAACA,OAAOA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;oBACnCA,CAACA,CAACA,OAAOA,CAACA,CAACA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA;oBACzCA,UAAUA,CAACA;wBACPA,CAACA,CAACA,OAAOA,CAACA,CAACA,GAAGA,CAACA,SAASA,EAAEA,MAAMA,CAACA,CAACA;oBACtCA,CAACA,EAAEA,kBAAkBA,CAACA,CAACA;gBAC3BA,CAACA;YACLA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,WAAWA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBAClBA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,CAACA;gBACxCA,CAACA,CAACA,cAAcA,CAACA,CAACA,IAAIA,EAAEA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,SAASA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBAChBA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,CAACA;gBACxCA,CAACA,CAACA,cAAcA,CAACA,CAACA,IAAIA,EAAEA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,KAAKA,CAACA,YAAYA,CAACA,EAAEA,CAACA,UAAAA,CAACA;gBACnBA,EAAEA,CAACA,CAACA,KAAKA,CAACA,QAAQA,GAAGA,CAACA,CAACA,CAACA,CAACA;oBACrBA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACvDA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,CAACA,CAACA,eAAeA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACvDA,CAACA;YACLA,CAACA,CAACA,CAACA;QACPA,CAACA;QAEDF;YACIG,0EAA0EA;QAC9EA,CAACA;QAEDH;YACII,+EAA+EA;QACnFA,CAACA;IAELJ,CAACA,EA3Fa/B,WAAWA,GAAXA,4BAAWA,KAAXA,4BAAWA,QA2FxBA;IAEDA,MAAMA,CAACA,MAAMA,GAAGA;QACZ,WAAW,CAAC,UAAU,EAAE,CAAC;IAC7B,CAAC,CAAAA;AACLA,CAACA,EAtRM,gBAAgB,KAAhB,gBAAgB,QAsRtB","sourcesContent":["module BlankCordovaApp3 {\r\n    \"use strict\";\r\n\r\n    interface ILiteEvent<T> {\r\n        on(handler: { (data?: T): void });\r\n        off(handler: { (data?: T): void });\r\n    }\r\n\r\n    class LiteEvent<T> implements ILiteEvent<T> {\r\n        private handlers: { (data?: T): void; }[] = [];\r\n\r\n        public on(handler: { (data?: T): void }) {\r\n            this.handlers.push(handler);\r\n        }\r\n\r\n        public off(handler: { (data?: T): void }) {\r\n            this.handlers = this.handlers.filter(h => h !== handler);\r\n        }\r\n\r\n        public trigger(data?: T) {\r\n            this.handlers.slice(0).forEach(h => h(data));\r\n        }\r\n    }\r\n\r\n    class NextFrameEventArgs {\r\n        public Correct: boolean;\r\n\r\n        constructor(correct: boolean) {\r\n            this.Correct = correct;\r\n        }\r\n    }\r\n\r\n    class TimeBonusEventArgs {\r\n        public ExtraTime: number;\r\n\r\n        constructor(extraTime: number) {\r\n            this.ExtraTime = extraTime;\r\n        }\r\n    }\r\n\r\n    class GameEndedEventArgs {\r\n        public Score: number;\r\n\r\n        constructor(score: number) {\r\n            this.Score = score;\r\n        }\r\n    }\r\n\r\n    class GameStartedEventArgs {\r\n\r\n        constructor() {\r\n        }\r\n    }\r\n\r\n    class TimerUpdatedEventArgs {\r\n\r\n        constructor() {\r\n        }\r\n    }\r\n\r\n    class Frame {\r\n        private _interval: any;\r\n        private onNextFrame = new LiteEvent<NextFrameEventArgs>();\r\n        private onTimeBonus = new LiteEvent<TimeBonusEventArgs>();\r\n        private onGameStarted = new LiteEvent<GameStartedEventArgs>();\r\n        private onGameEnded = new LiteEvent<GameEndedEventArgs>();\r\n        private onTimerUpdated = new LiteEvent<TimerUpdatedEventArgs>();\r\n\r\n        public Score: number;\r\n        public CurrentColor: string;\r\n        public ForbiddenColor: string;\r\n        public PossibleColors: string[];\r\n        public Started: boolean;\r\n        public TimeLeft: number;\r\n        public CurrentStreak: number;\r\n\r\n        public get NextFrame(): ILiteEvent<NextFrameEventArgs> { return this.onNextFrame; } \r\n        public get TimeBonus(): ILiteEvent<TimeBonusEventArgs> { return this.onTimeBonus; } \r\n        public get GameStarted(): ILiteEvent<GameStartedEventArgs> { return this.onGameStarted; } \r\n        public get GameEnded(): ILiteEvent<GameEndedEventArgs> { return this.onGameEnded; } \r\n        public get TimerUpdated(): ILiteEvent<TimerUpdatedEventArgs> { return this.onTimerUpdated; } \r\n\r\n        constructor() {\r\n            this.PossibleColors = [\r\n                \"#FFFF00\", // yellow\r\n                \"#FF7F00\", // orange\r\n                \"#AA2AFF\", // purple\r\n                \"#00CC00\", // green\r\n                \"#FF0000\", // red\r\n                \"#002AFF\", // blue\r\n                \"#FF55FF\" // pink\r\n            ];\r\n\r\n            this.CurrentColor = this.pickColor();\r\n            // this.ForbiddenColor = \"#FF0000\";\r\n            this.Score = 0;\r\n            this.TimeLeft = 0;\r\n        }\r\n\r\n        public start() {\r\n            if (this.Started) return;\r\n\r\n            this.CurrentStreak = 0;\r\n            this.Score = 0;\r\n            this.TimeLeft = 10;\r\n            this.CurrentColor = this.pickColor();\r\n\r\n            this.ForbiddenColor = \"#FF0000\";\r\n\r\n            this.CurrentColor = this.pickColor();\r\n            this._interval = setInterval(() => { this.updateInterval(); }, 100);\r\n            this.onGameStarted.trigger(new GameStartedEventArgs());\r\n        }\r\n\r\n        public endGame() {\r\n            var score = this.Score;\r\n\r\n            this.TimeLeft = 0;\r\n            clearInterval(this._interval);\r\n            this.Started = false;\r\n            this.onGameEnded.trigger(new GameEndedEventArgs(score));\r\n        }\r\n\r\n        public swipe() {\r\n            if (!this.Started) return;\r\n\r\n            if (this.CurrentColor === this.ForbiddenColor) {\r\n                this.success();\r\n            } else {\r\n                this.missClick();\r\n            }\r\n\r\n            this.CurrentColor = this.pickColor();\r\n        }\r\n\r\n        public tap() {\r\n            if (!this.Started) return;\r\n\r\n            if (this.CurrentColor === this.ForbiddenColor) {\r\n                this.missClick();\r\n            } else {\r\n                this.success();\r\n            }\r\n\r\n            this.CurrentColor = this.pickColor();\r\n        }\r\n\r\n        success() {\r\n            this.Score++;\r\n            this.CurrentStreak++;\r\n\r\n            if (this.CurrentStreak % 5 === 0) {\r\n                this.TimeLeft += 1;\r\n                this.onTimeBonus.trigger(new TimeBonusEventArgs(1));\r\n            }\r\n\r\n            this.onNextFrame.trigger(new NextFrameEventArgs(true));\r\n        }\r\n\r\n        missClick() {\r\n            this.Score = 0;\r\n            this.CurrentStreak = 0;\r\n            this.onNextFrame.trigger(new NextFrameEventArgs(false));\r\n        }\r\n\r\n        pickColor(): string {\r\n            return this.PossibleColors[Math.floor((Math.random() * this.PossibleColors.length) + 1)];\r\n        }\r\n\r\n        updateInterval() {\r\n            this.Started = true;\r\n            this.TimeLeft -= 0.1;\r\n\r\n            if (this.TimeLeft <= 0) {\r\n                this.endGame();\r\n                return;\r\n            }\r\n\r\n            this.onTimerUpdated.trigger(new TimerUpdatedEventArgs());\r\n        }\r\n    }\r\n\r\n    export module Application {\r\n        export function initialize() {\r\n            document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n        }\r\n\r\n        function onDeviceReady() {\r\n            // Handle the Cordova pause and resume events\r\n            document.addEventListener(\"pause\", onPause, false);\r\n            document.addEventListener(\"resume\", onResume, false);\r\n\r\n            var popupmesssagedelay = 750;\r\n\r\n            var frame = new Frame();\r\n            \r\n            $(\"body\").css(\"background-color\", frame.CurrentColor);\r\n            $(\"#score > span\").text(frame.Score);\r\n            // $(\"#timer > span\").text(frame.TimeLeft);\r\n\r\n            $(\"body\").on(\"click\", e => {\r\n                frame.tap();\r\n                $(\"body\").css(\"background-color\", frame.CurrentColor);\r\n                $(\"#score > span\").text(frame.Score);\r\n            });\r\n\r\n            $(\"body\").on(\"swipeone swipetwo\", e => {\r\n                frame.swipe();\r\n                $(\"body\").css(\"background-color\", frame.CurrentColor);\r\n                $(\"#score > span\").text(frame.Score);\r\n            });\r\n\r\n            $(\"#startbutton\").on(\"click\", e => {\r\n                frame.start();\r\n            });\r\n\r\n            frame.TimeBonus.on(x => {\r\n                $(\"#timebonus .message > span\").text(\"+\" + x.ExtraTime);\r\n\r\n                $(\"#timebonus\").css(\"display\", \"block\");\r\n                $(\"#timebonus\").addClass(\"animated bounceIn\");\r\n                setTimeout(() => {\r\n                    $(\"#timebonus\").css(\"display\", \"none\");\r\n                }, popupmesssagedelay);\r\n            });\r\n\r\n            frame.NextFrame.on(x => {\r\n                 $(\"#score > span\").text(frame.Score);\r\n\r\n                if (x.Correct) {\r\n                    $(\"#plusscore > span\").text(\"+1\");\r\n\r\n                    $(\"#plusscore\").css(\"display\", \"block\");\r\n                    $(\"#plusscore\").addClass(\"animated fadeOutDown\");\r\n                    setTimeout(() => {\r\n                        $(\"#plusscore\").css(\"display\", \"none\");\r\n                    }, popupmesssagedelay);\r\n                } else {\r\n                    $(\"#oops\").css(\"display\", \"block\");\r\n                    $(\"#oops\").addClass(\"animated bounceIn\");\r\n                    setTimeout(() => {\r\n                        $(\"#oops\").css(\"display\", \"none\");\r\n                    }, popupmesssagedelay);\r\n                }\r\n            });\r\n\r\n            frame.GameStarted.on(e => {\r\n                $(\"#timer > span\").text(frame.TimeLeft);\r\n                $(\"#startbutton\").hide();\r\n            });\r\n\r\n            frame.GameEnded.on(e => {\r\n                $(\"#timer > span\").text(frame.TimeLeft);\r\n                $(\"#startbutton\").show();\r\n            });\r\n\r\n            frame.TimerUpdated.on(e => {\r\n                if (frame.TimeLeft < 1) {\r\n                    $(\"#timer > span\").text(frame.TimeLeft.toFixed(1));\r\n                } else {\r\n                    $(\"#timer > span\").text(frame.TimeLeft.toFixed(0));\r\n                }\r\n            });\r\n        }\r\n\r\n        function onPause() {\r\n            // TODO: This application has been suspended. Save application state here.\r\n        }\r\n\r\n        function onResume() {\r\n            // TODO: This application has been reactivated. Restore application state here.\r\n        }\r\n\r\n    }\r\n\r\n    window.onload = function () {\r\n        Application.initialize();\r\n    }\r\n}\r\n"]}